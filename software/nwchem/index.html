<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="utf-8"><style>:where(img){height:auto}</style><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="TalTech HPC"><link href="https://taltech-hpc-centre.github.io/taltech-hpc-docs/software/nwchem/" rel="canonical"><link href="../orca/" rel="prev"><link href="../multiwfn/" rel="next"><link rel="icon" href="../../assets/favicon.ico"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.38"><title>NWChem - TalTech HPC User Guides</title><link rel="stylesheet" href="../../assets/stylesheets/main.8c3ca2c6.min.css"><link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Noto Sans";--md-code-font:"Roboto Mono"}</style><link rel="stylesheet" href="../../stylesheets/extra.css"><script>__md_scope=new URL("../..",location),__md_hash=_=>[..._].reduce((e,t)=>(e<<5)-e+t.charCodeAt(0),0),__md_get=(_,e=localStorage,t=__md_scope)=>JSON.parse(e.getItem(t.pathname+"."+_)),__md_set=(_,e,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+_,JSON.stringify(e))}catch{}};
</script><link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>html.glightbox-open{overflow:initial;height:100%}.gslide-title{-webkit-user-select:text;user-select:text;margin-top:0}.gslide-desc{color:#666;-webkit-user-select:text;user-select:text}.gslide-image img{background:#fff}.gscrollbar-fixer{padding-right:15px}.gdesc-inner{font-size:.75rem}body[data-md-color-scheme=slate] .gdesc-inner{background:var(--md-default-bg-color)}body[data-md-color-scheme=slate] .gslide-title,body[data-md-color-scheme=slate] .gslide-desc{color:var(--md-default-fg-color)}</style><script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#nwchem" class="md-skip"> Skip to content </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav class="md-grid md-header__inner" aria-label="Header"> <a href="../.." title="TalTech HPC User Guides" class="md-header__button md-logo" aria-label="TalTech HPC User Guides" data-md-component="logo"> <img src="../../assets/favicon.ico" alt="logo" fetchpriority="high" decoding="async"> </a> <label class="md-icon md-header__button" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> TalTech HPC User Guides </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> NWChem </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0"> <label class="md-icon md-header__button" title="Switch to dark mode" for="__palette_1" hidden=""> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"></path></svg> </label> <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1"> <label class="md-icon md-header__button" title="Switch to light mode" for="__palette_0" hidden=""> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-icon md-header__button" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required=""> <label class="md-icon md-search__icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class="md-search__options" aria-label="Search"> <a href="javascript:void(0)" class="md-icon md-search__icon" title="Share" aria-label="Share" data-clipboard="" data-clipboard-text="" data-md-component="search-share" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button type="reset" class="md-icon md-search__icon" title="Clear" aria-label="Clear" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class="md-search__suggest" data-md-component="search-suggest"></div> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix=""> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <nav class="md-tabs" aria-label="Tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a href="../.." class="md-tabs__link"> Home </a> </li> <li class="md-tabs__item"> <a href="../../access/cluster/" class="md-tabs__link"> Access &amp; Usage </a> </li> <li class="md-tabs__item"> <a href="../../learning/learning/" class="md-tabs__link"> Learning </a> </li> <li class="md-tabs__item"> <a href="../../jobs/slurm-example/" class="md-tabs__link"> Job Submission </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href="../software/" class="md-tabs__link"> Software </a> </li> <li class="md-tabs__item"> <a href="../../visualization/visualization/" class="md-tabs__link"> Visualization </a> </li> <li class="md-tabs__item"> <a href="../../acknowledgement/" class="md-tabs__link"> Acknowledgement </a> </li> </ul> </div> </nav> <main class="md-main" data-md-component="main"> <div class="md-grid md-main__inner"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--lifted md-nav--primary" aria-label="Navigation" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../.." title="TalTech HPC User Guides" class="md-logo md-nav__button" aria-label="TalTech HPC User Guides" data-md-component="logo"> <img src="../../assets/favicon.ico" alt="logo" fetchpriority="high" decoding="async"> </a> TalTech HPC User Guides </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a href="../.." class="md-nav__link"> <span class="md-ellipsis"> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--pruned"> <a href="../../access/cluster/" class="md-nav__link"> <span class="md-ellipsis"> Access &amp; Usage </span> <span class="md-icon md-nav__icon"></span> </a> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--pruned"> <a href="../../learning/learning/" class="md-nav__link"> <span class="md-ellipsis"> Learning </span> <span class="md-icon md-nav__icon"></span> </a> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--pruned"> <a href="../../jobs/slurm-example/" class="md-nav__link"> <span class="md-ellipsis"> Job Submission </span> <span class="md-icon md-nav__icon"></span> </a> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--active md-nav__item--section"> <input class="md-toggle md-nav__toggle" type="checkbox" id="__nav_5" checked=""> <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex=""> <span class="md-ellipsis"> Software </span> <span class="md-icon md-nav__icon"></span> </label> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_5"> <span class="md-icon md-nav__icon"></span> Software </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a href="../software/" class="md-nav__link"> <span class="md-ellipsis"> Software packages </span> </a> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--pruned"> <a href="../modules/" class="md-nav__link"> <span class="md-ellipsis"> Modules and Package Managers </span> <span class="md-icon md-nav__icon"></span> </a> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--pruned"> <a href="../cad-mesh/" class="md-nav__link"> <span class="md-ellipsis"> Engineering Software </span> <span class="md-icon md-nav__icon"></span> </a> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--active"> <input class="md-toggle md-nav__toggle" type="checkbox" id="__nav_5_4" checked=""> <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0"> <span class="md-ellipsis"> Chemistry Software </span> <span class="md-icon md-nav__icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_5_4"> <span class="md-icon md-nav__icon"></span> Chemistry Software </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a href="../crest/" class="md-nav__link"> <span class="md-ellipsis"> xtb-CREST </span> </a> </li> <li class="md-nav__item"> <a href="../gaussian/" class="md-nav__link"> <span class="md-ellipsis"> Gaussian </span> </a> </li> <li class="md-nav__item"> <a href="../orca/" class="md-nav__link"> <span class="md-ellipsis"> ORCA </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> NWChem </span> <span class="md-icon md-nav__icon"></span> </label> <a href="./" class="md-nav__link md-nav__link--active"> <span class="md-ellipsis"> NWChem </span> </a> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class="md-nav__title" for="__toc"> <span class="md-icon md-nav__icon"></span> On this page </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a href="#nwchem-short-introduction" class="md-nav__link"> <span class="md-ellipsis"> NWChem Short Introduction </span> </a> </li> <li class="md-nav__item"> <a href="#nwchem-long-version" class="md-nav__link"> <span class="md-ellipsis"> NWChem Long Version </span> </a> <nav class="md-nav" aria-label="NWChem Long Version"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#environment" class="md-nav__link"> <span class="md-ellipsis"> Environment </span> </a> </li> <li class="md-nav__item"> <a href="#input-file" class="md-nav__link"> <span class="md-ellipsis"> Input File </span> </a> </li> <li class="md-nav__item"> <a href="#running-nwchem-jobs" class="md-nav__link"> <span class="md-ellipsis"> Running NWChem Jobs </span> </a> </li> <li class="md-nav__item"> <a href="#single-core-parallel-calculations" class="md-nav__link"> <span class="md-ellipsis"> Single Core &amp; Parallel Calculations </span> </a> </li> <li class="md-nav__item"> <a href="#restarting-a-failedinterrupted-calculation" class="md-nav__link"> <span class="md-ellipsis"> Restarting a Failed/Interrupted Calculation </span> </a> </li> <li class="md-nav__item"> <a href="#memory" class="md-nav__link"> <span class="md-ellipsis"> Memory </span> </a> </li> <li class="md-nav__item"> <a href="#time" class="md-nav__link"> <span class="md-ellipsis"> Time </span> </a> </li> <li class="md-nav__item"> <a href="#how-to-cite" class="md-nav__link"> <span class="md-ellipsis"> How to Cite </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../multiwfn/" class="md-nav__link"> <span class="md-ellipsis"> Multiwfn </span> </a> </li> <li class="md-nav__item"> <a href="../xtb/" class="md-nav__link"> <span class="md-ellipsis"> XTB </span> </a> </li> <li class="md-nav__item"> <a href="../turbomole/" class="md-nav__link"> <span class="md-ellipsis"> TURBOMOLE </span> </a> </li> <li class="md-nav__item"> <a href="../../visualization/visualization-chemistry/" class="md-nav__link"> <span class="md-ellipsis"> Chemistry Visualization </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--pruned"> <a href="../jupyter/" class="md-nav__link"> <span class="md-ellipsis"> Data Analysis Software </span> <span class="md-icon md-nav__icon"></span> </a> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--pruned"> <a href="../cfd/" class="md-nav__link"> <span class="md-ellipsis"> Other </span> <span class="md-icon md-nav__icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested md-nav__item--pruned"> <a href="../../visualization/visualization/" class="md-nav__link"> <span class="md-ellipsis"> Visualization </span> <span class="md-icon md-nav__icon"></span> </a> </li> <li class="md-nav__item"> <a href="../../acknowledgement/" class="md-nav__link"> <span class="md-ellipsis"> Acknowledgement </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class="md-nav__title" for="__toc"> <span class="md-icon md-nav__icon"></span> On this page </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a href="#nwchem-short-introduction" class="md-nav__link"> <span class="md-ellipsis"> NWChem Short Introduction </span> </a> </li> <li class="md-nav__item"> <a href="#nwchem-long-version" class="md-nav__link"> <span class="md-ellipsis"> NWChem Long Version </span> </a> <nav class="md-nav" aria-label="NWChem Long Version"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#environment" class="md-nav__link"> <span class="md-ellipsis"> Environment </span> </a> </li> <li class="md-nav__item"> <a href="#input-file" class="md-nav__link"> <span class="md-ellipsis"> Input File </span> </a> </li> <li class="md-nav__item"> <a href="#running-nwchem-jobs" class="md-nav__link"> <span class="md-ellipsis"> Running NWChem Jobs </span> </a> </li> <li class="md-nav__item"> <a href="#single-core-parallel-calculations" class="md-nav__link"> <span class="md-ellipsis"> Single Core &amp; Parallel Calculations </span> </a> </li> <li class="md-nav__item"> <a href="#restarting-a-failedinterrupted-calculation" class="md-nav__link"> <span class="md-ellipsis"> Restarting a Failed/Interrupted Calculation </span> </a> </li> <li class="md-nav__item"> <a href="#memory" class="md-nav__link"> <span class="md-ellipsis"> Memory </span> </a> </li> <li class="md-nav__item"> <a href="#time" class="md-nav__link"> <span class="md-ellipsis"> Time </span> </a> </li> <li class="md-nav__item"> <a href="#how-to-cite" class="md-nav__link"> <span class="md-ellipsis"> How to Cite </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-typeset md-content__inner"> <a href="https://github.com/TalTech-HPC-Centre/taltech-hpc-docs/raw/master/docs/software/nwchem.md" title="View source of this page" class="md-icon md-content__button"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg> </a> <h1 id="nwchem">NWChem<a class="headerlink" href="#nwchem" title="Anchor link to this section for reference">#</a></h1> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This page is a work in progress!</p> </div> <hr> <h2 id="nwchem-short-introduction">NWChem Short Introduction<a class="headerlink" href="#nwchem-short-introduction" title="Anchor link to this section for reference">#</a></h2> <ol> <li> <p>Make <a href="../attachments/nwchem.slurm">nwchem.slurm</a> batch script for parallel calculations:</p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1">#SBATCH --job-name=NWChem</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1">#SBATCH --mem-per-cpu=2GB</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1">#SBATCH --nodes=1</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c1">#SBATCH --ntasks=6</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1">#SBATCH -t 1:00:00</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1">#SBATCH --partition=common</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>module<span class="w"> </span>load<span class="w"> </span>rocky8-spack
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>module<span class="w"> </span>load<span class="w"> </span>nwchem
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="c1"># Create scratch directory</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="nv">SCRATCH</span><span class="o">=</span>/state/partition1/<span class="nv">$SLURM_JOB_ID</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$SCRATCH</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>cp<span class="w">  </span><span class="nv">$SLURM_SUBMIT_DIR</span>/*.nw<span class="w"> </span><span class="nv">$SCRATCH</span>/
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$SCRATCH</span>/
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>nwchem<span class="w"> </span>job.nw<span class="w"> </span>&gt;&gt;<span class="w"> </span>job.out
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="c1"># Copy files back to working directory</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>cp<span class="w"> </span><span class="nv">$SCRATCH</span>/*<span class="w"> </span><span class="nv">$SLURM_SUBMIT_DIR</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="c1"># Clean after yourself</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>rm<span class="w"> </span>-rf<span class="w"> </span><span class="nv">$SCRATCH</span>
</code></pre></div> </li> <li> <p>Copy job-input file <a href="../attachments/job.nw">job.nw</a>.</p> </li> <li> <p>Submit the job on <strong>base</strong>:</p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sbatch<span class="w"> </span>nwchem.slurm
</code></pre></div> </li> <li> <p>Check results using <a href="../visualization/visualization">visualization software</a>.</p> </li> </ol> <hr> <h2 id="nwchem-long-version">NWChem Long Version<a class="headerlink" href="#nwchem-long-version" title="Anchor link to this section for reference">#</a></h2> <hr> <p>The North West computational chemistry (<a href="https://nwchemgit.github.io/">NWChem</a>) is an ab initio computational chemistry software package. NWChem offers various approaches: density functional (DFT), second-order Möller–Plesset perturbation theory (MP2), single- and multi-reference (MR), ground-and excited-state and linear-response (LR) coupled-cluster (CC), multi-configuration self-consistent field (MCSCF), selected and full configuration interaction (CI). A broad range of DFT response properties, ground and excited-state molecular dynamics (MD) using either AMBER or CHARMM force fields or methods of quantum mechanics (QM), nudged elastic band (NEB) method, linear-response (LR), and real-time (RT) time-dependent density functional theory (TDDFT) are available in NWChem. Through its modular design, the ab initio methods can be coupled with classical MD to perform mixed quantum-mechanics and molecular-mechanics simulations (QM/MM). Various solvent models and relativistic approaches are also available. Additionally, Python programs may be embedded into the NWChem input and used to control the execution of NWChem. More about the possibilities of NWChem can be found in this article - <a href="https://aip.scitation.org/doi/10.1063/5.0004997">10.1063/5.0004997</a>.</p> <p>Some useful links:</p> <ul> <li><a href="https://nwchemgit.github.io/Home.html">The tutorials site at FAccTs</a></li> <li>DOI: <a href="https://www.sciencedirect.com/science/article/abs/pii/S0010465510001438?via%3Dihub">10.1016/j.cpc.2010.04.018</a></li> </ul> <h3 id="environment">Environment<a class="headerlink" href="#environment" title="Anchor link to this section for reference">#</a></h3> <p>At HPC, the 7.0.2 version of NWChem is installed. To start working with NWChem, an environment needs to be set up with the commands:</p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>module<span class="w"> </span>load<span class="w"> </span>rocky8-spack
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>module<span class="w"> </span>load<span class="w"> </span>nwchem
</code></pre></div> <h3 id="input-file">Input File<a class="headerlink" href="#input-file" title="Anchor link to this section for reference">#</a></h3> <p>NWChem input files consist of certain blocks: geometry, SCF, DFT, MP2, etc. NWChem also allows combining several jobs into one input file. Below is an example of an NWChem input file (job.nw) where:</p> <ol> <li>The water dimer will be firstly optimized at BP86-D3BJ/def2-SVP level of theory.</li> <li>Frequency calculations will be done at the same level of theory.</li> <li>Single point energy will be calculated using a larger basis set (def2-TZVPP) and B3LYP functional.</li> </ol> <p>Additionally, in the example input file, the implementation of some useful keywords such as <code>print</code> and <code>linopt</code> is shown.</p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>start<span class="w"> </span>water<span class="w">            </span><span class="c1"># all intermediate files will have this name</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>title<span class="w"> </span><span class="s2">"Water dimer"</span><span class="w">    </span><span class="c1"># title of job</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="nb">echo</span><span class="w">                   </span><span class="c1"># input file will be printed at the beginning of the output file</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>memory<span class="w"> </span>total<span class="w"> </span><span class="m">3000</span><span class="w"> </span>mb
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>charge<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>geometry<span class="w"> </span>units<span class="w"> </span>angstrom
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>O<span class="w">    </span>-0.093470<span class="w">    </span>-1.154274<span class="w">     </span><span class="m">0</span>.290542
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>H<span class="w">     </span><span class="m">0</span>.329461<span class="w">    </span>-0.566865<span class="w">    </span>-0.340362
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>H<span class="w">    </span>-0.864449<span class="w">    </span>-1.335840<span class="w">    </span>-0.238173
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>O<span class="w">    </span>-0.135461<span class="w">     </span><span class="m">1</span>.136660<span class="w">    </span>-0.233474
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>H<span class="w">     </span><span class="m">0</span>.636237<span class="w">     </span><span class="m">1</span>.304331<span class="w">     </span><span class="m">0</span>.298468
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>H<span class="w">    </span>-0.563123<span class="w">     </span><span class="m">0</span>.545569<span class="w">     </span><span class="m">0</span>.390712
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>end
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>basis
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">    </span>*<span class="w"> </span>library<span class="w"> </span>Def2-SVP
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>end
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>scf
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">    </span>rhf<span class="w">                    </span><span class="c1"># restricted Hartree-Fock</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">    </span>singlet<span class="w">                </span><span class="c1"># multiplicity</span>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">    </span>maxiter<span class="w"> </span><span class="m">100</span><span class="w">            </span><span class="c1"># maximum number of SCF iterations </span>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">    </span>print<span class="w"> </span>low<span class="w">              </span><span class="c1"># will minimize output</span>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>end
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>dft
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="w">    </span>mult<span class="w"> </span><span class="m">1</span><span class="w">                 </span><span class="c1"># multiplicity</span>
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w">    </span>xc<span class="w"> </span>becke88<span class="w"> </span>perdew86<span class="w">    </span><span class="c1"># functional BP86</span>
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="w">    </span>disp<span class="w"> </span>vdw<span class="w"> </span><span class="m">4</span><span class="w">             </span><span class="c1"># dispersion correction D3BJ</span>
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w">    </span>print<span class="w"> </span>low<span class="w">              </span><span class="c1"># will minimize output</span>
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a>end
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a>
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a>driver
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a><span class="w">    </span>maxiter<span class="w"> </span><span class="m">100</span><span class="w">            </span><span class="c1"># maximum number of iterations during optimization</span>
<a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="w">    </span>linopt<span class="w"> </span><span class="m">0</span><span class="w">               </span><span class="c1"># speed up calculations </span>
<a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a>end
<a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a>
<a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>task<span class="w"> </span>dft<span class="w"> </span>optimize
<a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a>task<span class="w"> </span>dft<span class="w"> </span>freq<span class="w"> </span>numerical
<a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a>
<a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a>basis
<a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a><span class="w">    </span>*<span class="w"> </span>library<span class="w"> </span>Def2-TZVPP
<a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a>end
<a id="__codelineno-3-48" name="__codelineno-3-48" href="#__codelineno-3-48"></a>
<a id="__codelineno-3-49" name="__codelineno-3-49" href="#__codelineno-3-49"></a>dft
<a id="__codelineno-3-50" name="__codelineno-3-50" href="#__codelineno-3-50"></a><span class="w">    </span>mult<span class="w"> </span><span class="m">1</span><span class="w">                 </span><span class="c1"># multiplicity</span>
<a id="__codelineno-3-51" name="__codelineno-3-51" href="#__codelineno-3-51"></a><span class="w">    </span>xc<span class="w"> </span>b3lyp<span class="w">               </span><span class="c1"># functional B3LYP</span>
<a id="__codelineno-3-52" name="__codelineno-3-52" href="#__codelineno-3-52"></a><span class="w">    </span>disp<span class="w"> </span>vdw<span class="w"> </span><span class="m">4</span><span class="w">             </span><span class="c1"># dispersion correction D3BJ</span>
<a id="__codelineno-3-53" name="__codelineno-3-53" href="#__codelineno-3-53"></a><span class="w">    </span>print<span class="w"> </span>low<span class="w">              </span><span class="c1"># will minimize output</span>
<a id="__codelineno-3-54" name="__codelineno-3-54" href="#__codelineno-3-54"></a>end
<a id="__codelineno-3-55" name="__codelineno-3-55" href="#__codelineno-3-55"></a>
<a id="__codelineno-3-56" name="__codelineno-3-56" href="#__codelineno-3-56"></a>task<span class="w"> </span>dft<span class="w"> </span>energy
</code></pre></div> <p>NWChem is well suited for large system calculations or molecular dynamics simulations with subsequent calculation of system properties. An example of an input (<a href="../attachments/job_MD.nw">job_MD.nw</a>) for MD simulation with subsequent calculation of dipole moment every 10 steps.</p> <p>More about NWChem input can be found in the <a href="https://nwchemgit.github.io/Home.html">NWChem manual</a>.</p> <h3 id="running-nwchem-jobs">Running NWChem Jobs<a class="headerlink" href="#running-nwchem-jobs" title="Anchor link to this section for reference">#</a></h3> <p>NWChem input files are executed by the command <code>nwchem</code>. This command is usually placed in a slurm script.</p> <h3 id="single-core-parallel-calculations">Single Core &amp; Parallel Calculations<a class="headerlink" href="#single-core-parallel-calculations" title="Anchor link to this section for reference">#</a></h3> <p>NWChem jobs can be calculated on one thread, in parallel on one node, or using several nodes at once. Depending on the size of the job, the corresponding parameters must be modified in the slurm file:</p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">#SBATCH --ntasks=6</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="c1">#SBATCH --nodes=1</span>
</code></pre></div> <p>Below is an example of a <code>slurm</code> script for an NWChem parallel run on 1 node and 6 threads with allocated memory of 3 GB:</p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1">#SBATCH --job-name=NWChem</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1">#SBATCH --mem=3GB</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c1">#SBATCH --nodes=1</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="c1">#SBATCH --ntasks=6</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1">#SBATCH -t 1:00:00</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="c1">#SBATCH --partition=common</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>module<span class="w"> </span>load<span class="w"> </span>rocky8-spack
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>module<span class="w"> </span>load<span class="w"> </span>nwchem
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="c1"># Create scratch directory</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="nv">SCRATCH</span><span class="o">=</span>/state/partition1/<span class="nv">$SLURM_JOB_ID</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$SCRATCH</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>cp<span class="w">  </span><span class="nv">$SLURM_SUBMIT_DIR</span>/*.nw<span class="w"> </span><span class="nv">$SCRATCH</span>/
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$SCRATCH</span>/
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>nwchem<span class="w"> </span>job.nw<span class="w"> </span>&gt;<span class="w"> </span>job.out
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="c1"># Copy files back to working directory</span>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>cp<span class="w"> </span><span class="nv">$SCRATCH</span>/*<span class="w"> </span><span class="nv">$SLURM_SUBMIT_DIR</span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="c1"># Clean after yourself</span>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>rm<span class="w"> </span>-rf<span class="w"> </span><span class="nv">$SCRATCH</span>
</code></pre></div> <p><strong>NB!</strong> <em>In the example of the <code>slurm</code> script, calculations will be done on a single node, thus the partition is <code>common</code>. If several nodes will be used, then the partition should be <code>green-ib</code>.</em></p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">#SBATCH --nodes=2</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1">#SBATCH --ntasks=120</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1">#SBATCH --partition=green-ib</span>
</code></pre></div> <p><strong>NB!</strong> <em>To be able to restart calculations, they must be done in the <code>$HOME</code> catalog, and not in the <code>$SCRATCH</code> directory.</em></p> <h3 id="restarting-a-failedinterrupted-calculation">Restarting a Failed/Interrupted Calculation<a class="headerlink" href="#restarting-a-failedinterrupted-calculation" title="Anchor link to this section for reference">#</a></h3> <p>NWChem does not give a message about normal termination. If the calculation terminated normally, the output will have this end:</p> <div class="highlight"><span class="filename">Text Only</span><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>                                  AUTHORS
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>                                  -------
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a> E. Apra, E. J. Bylaska, N. Govind, K. Kowalski, M. Valiev, W. A. de Jong,
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>  T. P. Straatsma, H. J. J. van Dam, D. Wang, T. L. Windus, N. P. Bauman,
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>   A. Panyala, J. Hammond, J. Autschbach, K. Bhaskaran-Nair, J. Brabec,
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>K. Lopata, S. A. Fischer, S. Krishnamoorthy, M. Jacquelin, W. Ma, M. Klemm,
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>   O. Villa, Y. Chen, V. Anisimov, F. Aquino, S. Hirata, M. T. Hackler,
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>       Eric Hermes, L. Jensen, J. E. Moore, J. C. Becca, V. Konjkov,
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>    D. Mejia-Rodriguez, T. Risthaus, M. Malagoli, A. Marenich,
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>A. Otero-de-la-Roza, J. Mullin, P. Nichols, R. Peverati, J. Pittner, Y. Zhao,
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    P.-D. Fan, A. Fonari, M. J. Williamson, R. J. Harrison, J. R. Rehr,
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>  M. Dupuis, D. Silverstein, D. M. A. Smith, J. Nieplocha, V. Tipparaju,
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>  M. Krishnan, B. E. Van Kuiken, A. Vazquez-Mayagoitia, M. Swart, Q. Wu,
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>T. Van Voorhis, A. A. Auer, M. Nooijen, L. D. Crosby, E. Brown, G. Cisneros,
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a> G. I. Fann, H. Fruchtl, J. Garza, K. Hirao, R. A. Kendall, J. A. Nichols,
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>   K. Tsemekhman, K. Wolinski, J. Anchell, D. E. Bernholdt, P. Borowski,
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>   T. Clark, D. Clerc, H. Dachsel, M. J. O. Deegan, K. Dyall, D. Elwood,
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>  E. Glendening, M. Gutowski, A. C. Hess, J. Jaffe, B. G. Johnson, J. Ju,
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>    R. Kobayashi, R. Kutteh, Z. Lin, R. Littlefield, X. Long, B. Meng,
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>  T. Nakajima, S. Niu, L. Pollack, M. Rosing, K. Glaesemann, G. Sandrone,
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>  M. Stave, H. Taylor, G. Thomas, J. H. van Lenthe, A. T. Wong, Z. Zhang.
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>Total times  cpu:       56.9s     wall:       57.2s
</code></pre></div> <p>If the job was not terminated normally, it can be restarted. However, to do this, calculations must be done in the <code>$HOME</code> catalog, and not in the <code>$SCRATCH</code> directory.</p> <p>To restart the calculation, just change the <code>start</code> command to <code>restart</code> in the initial input file and run the slurm script again.</p> <p><strong>NB!</strong> <em>We recommend changing the restart output file name so it is possible to compare progress at the end of calculations.</em></p> <h3 id="memory">Memory<a class="headerlink" href="#memory" title="Anchor link to this section for reference">#</a></h3> <p>At the beginning of the NWChem input file, the amount of memory requested for the entire job must be specified. If the amount of memory requested is insufficient, the job can crash. Memory usage in NWChem is controlled by the <code>memory total</code> keywords.</p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>memory<span class="w"> </span>total<span class="w"> </span><span class="m">3000</span><span class="w"> </span>mb
</code></pre></div> <p>There is no golden rule for memory requests, since they are basis set and calculation type dependent. Usually, 1-5 GB per 1 CPU is sufficient. Data from a <code>slurm-JOBID.stat</code> file can be useful to determine the amount of memory required for a computation. In the <code>slurm-JOBID.stat</code> file, the efficiency of memory utilization is shown.</p> <p>Bad example:</p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>Memory<span class="w"> </span>Utilized:<span class="w"> </span><span class="m">3</span>.08<span class="w"> </span>GB<span class="w"> </span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>Memory<span class="w"> </span>Efficiency:<span class="w"> </span><span class="m">11</span>.83%<span class="w"> </span>of<span class="w"> </span><span class="m">26</span>.00<span class="w"> </span>GB
</code></pre></div> <p>Good example:</p> <div class="highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>Memory<span class="w"> </span>Utilized:<span class="w"> </span><span class="m">63</span>.12<span class="w"> </span>GB<span class="w"> </span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>Memory<span class="w"> </span>Efficiency:<span class="w"> </span><span class="m">98</span>.62%<span class="w"> </span>of<span class="w"> </span><span class="m">64</span>.00<span class="w"> </span>GB
</code></pre></div> <h3 id="time">Time<a class="headerlink" href="#time" title="Anchor link to this section for reference">#</a></h3> <p>Time limits depend on the time partition used, see <a href="../#hardware-specification">taltech user-guides</a>. If the calculation time exceeds the time limit requested in the <code>slurm</code> script, then the job will be killed. Therefore, it is recommended to request more time than is usually needed for the calculation.</p> <h3 id="how-to-cite">How to Cite<a class="headerlink" href="#how-to-cite" title="Anchor link to this section for reference">#</a></h3> <p>Please cite DOI: <a href="https://aip.scitation.org/doi/10.1063/5.0004997">10.1063/5.0004997</a> when publishing results obtained with NWChem.</p> <p>Also, look at the <a href="https://nwchemgit.github.io/Home.html">NWChem manual</a> on the relevant topic; more detailed information on citing will be given there.</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type="button" class="md-icon md-top" data-md-component="top" hidden=""> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class="md-footer"> <div class="md-typeset md-footer-meta"> <div class="md-grid md-footer-meta__inner"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> <div class="md-social"> <a href="https://hpc.taltech.ee/" target="_blank" rel="noopener" title="hpc.taltech.ee" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1v16.2c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1L416 512h-24c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.7h-32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24"></path></svg> </a> <a href="https://github.com/TalTech-HPC-Centre" target="_blank" rel="noopener" title="github.com" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a href="mailto:hpcsupport@taltech.ee" target="_blank" rel="noopener" title="" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0z"></path></svg> </a> <a href="https://taltech.atlassian.net/servicedesk/customer/portal/18/create/228" target="_blank" rel="noopener" title="taltech.atlassian.net" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0 0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4-3.5 9.4-8.7 17.7-14.2 24.7-4.8 6.2-9.7 11-13.3 14.3-1.8 1.6-3.3 2.9-4.3 3.7-.5.4-.9.7-1.1.8l-.2.2C1 327.2-1.4 334.4.8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5 9.2-3.5 17.8-7.4 25.2-11.4C134.1 343.3 169.8 352 208 352m240-176c0 112.3-99.1 196.9-216.5 207 24.3 74.4 104.9 129 200.5 129 38.2 0 73.9-8.7 104.7-23.9 7.5 4 16 7.9 25.2 11.4 18.3 6.9 40.3 12.5 62.1 12.5 6.9 0 13.1-4.5 15.2-11.1s-.2-13.8-5.8-17.9l-.2-.2c-.2-.2-.6-.4-1.1-.8-1-.8-2.5-2-4.3-3.7-3.6-3.3-8.5-8.1-13.3-14.3-5.5-7-10.7-15.4-14.2-24.7 24.9-29 39.6-64.7 39.6-103.4 0-92.8-84.9-168.9-192.6-175.5.4 5.1.6 10.3.6 15.5z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-typeset md-dialog__inner"></div> </div> <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.top", "content.tabs.link", "search.share", "search.suggest", "content.code.annotate", "content.code.copy", "content.action.view", "navigation.indexes", "navigation.prune"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src="../../assets/javascripts/bundle.d6f25eb3.min.js"></script> <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script> <script src="../../javascripts/tablesort.js"></script> <script id="init-glightbox">const lightbox=GLightbox({touchNavigation:!0,loop:!1,zoomable:!0,draggable:!0,openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide"});document$.subscribe(()=>{lightbox.reload()});
</script> </body></html>